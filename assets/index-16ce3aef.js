(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();const le=(e,t)=>e===t,q={equals:le};let Y=ee;const w=1,L=2,J={owned:null,cleanups:null,context:null,owner:null};var d=null;let I=null,c=null,y=null,P=null,k=0;function ie(e,t){const s=c,n=d,r=e.length===0,l=r?J:{owned:null,cleanups:null,context:null,owner:t===void 0?n:t},o=r?e:()=>e(()=>h(()=>D(l)));d=l,c=null;try{return _(o,!0)}finally{c=s,d=n}}function g(e,t){t=t?Object.assign({},q,t):q;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=r=>(typeof r=="function"&&(r=r(s.value)),Z(s,r));return[oe.bind(s),n]}function x(e,t,s){const n=z(e,t,!1,w);F(n)}function S(e,t,s){Y=ce;const n=z(e,t,!1,w);(!s||!s.render)&&(n.user=!0),P?P.push(n):F(n)}function h(e){if(c===null)return e();const t=c;c=null;try{return e()}finally{c=t}}function oe(){if(this.sources&&this.state)if(this.state===w)F(this);else{const e=y;y=null,_(()=>N(this),!1),y=e}if(c){const e=this.observers?this.observers.length:0;c.sources?(c.sources.push(this),c.sourceSlots.push(e)):(c.sources=[this],c.sourceSlots=[e]),this.observers?(this.observers.push(c),this.observerSlots.push(c.sources.length-1)):(this.observers=[c],this.observerSlots=[c.sources.length-1])}return this.value}function Z(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&_(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],o=I&&I.running;o&&I.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?y.push(l):P.push(l),l.observers&&te(l)),o||(l.state=w)}if(y.length>1e6)throw y=[],new Error},!1)),t}function F(e){if(!e.fn)return;D(e);const t=d,s=c,n=k;c=d=e,fe(e,e.value,n),c=s,d=t}function fe(e,t,s){let n;try{n=e.fn(t)}catch(r){return e.pure&&(e.state=w,e.owned&&e.owned.forEach(D),e.owned=null),e.updatedAt=s+1,se(r)}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?Z(e,n):e.value=n,e.updatedAt=s)}function z(e,t,s,n=w,r){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:d,context:null,pure:s};return d===null||d!==J&&(d.owned?d.owned.push(l):d.owned=[l]),l}function T(e){if(e.state===0)return;if(e.state===L)return N(e);if(e.suspense&&h(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<k);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===w)F(e);else if(e.state===L){const n=y;y=null,_(()=>N(e,t[0]),!1),y=n}}function _(e,t){if(y)return e();let s=!1;t||(y=[]),P?s=!0:P=[],k++;try{const n=e();return ue(s),n}catch(n){s||(P=null),y=null,se(n)}}function ue(e){if(y&&(ee(y),y=null),e)return;const t=P;P=null,t.length&&_(()=>Y(t),!1)}function ee(e){for(let t=0;t<e.length;t++)T(e[t])}function ce(e){let t,s=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[s++]=n:T(n)}for(t=0;t<s;t++)T(e[t])}function N(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const n=e.sources[s];if(n.sources){const r=n.state;r===w?n!==t&&(!n.updatedAt||n.updatedAt<k)&&T(n):r===L&&N(n,t)}}}function te(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=L,s.pure?y.push(s):P.push(s),s.observers&&te(s))}}function D(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),r=s.observers;if(r&&r.length){const l=r.pop(),o=s.observerSlots.pop();n<r.length&&(l.sourceSlots[o]=n,r[n]=l,s.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)D(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function se(e){throw e}function m(e,t){return h(()=>e(t||{}))}function ae(e,t,s){let n=s.length,r=t.length,l=n,o=0,i=0,f=t[r-1].nextSibling,a=null;for(;o<r||i<l;){if(t[o]===s[i]){o++,i++;continue}for(;t[r-1]===s[l-1];)r--,l--;if(r===o){const u=l<n?i?s[i-1].nextSibling:s[l-i]:f;for(;i<l;)e.insertBefore(s[i++],u)}else if(l===i)for(;o<r;)(!a||!a.has(t[o]))&&t[o].remove(),o++;else if(t[o]===s[l-1]&&s[i]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(s[i++],t[o++].nextSibling),e.insertBefore(s[--l],u),t[r]=s[l]}else{if(!a){a=new Map;let p=i;for(;p<l;)a.set(s[p],p++)}const u=a.get(t[o]);if(u!=null)if(i<u&&u<l){let p=o,H=1,X;for(;++p<r&&p<l&&!((X=a.get(t[p]))==null||X!==u+H);)H++;if(H>u-i){const re=t[o];for(;i<u;)e.insertBefore(s[i++],re)}else e.replaceChild(s[i++],t[o++])}else o++;else t[o++].remove()}}}const G="_$DX_DELEGATE";function ye(e,t,s,n={}){let r;return ie(l=>{r=l,t===document?e():b(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{r(),t.textContent=""}}function A(e,t,s){let n;const r=()=>{const o=document.createElement("template");return o.innerHTML=e,s?o.content.firstChild.firstChild:o.content.firstChild},l=t?()=>h(()=>document.importNode(n||(n=r()),!0)):()=>(n||(n=r())).cloneNode(!0);return l.cloneNode=l,l}function pe(e,t=window.document){const s=t[G]||(t[G]=new Set);for(let n=0,r=e.length;n<r;n++){const l=e[n];s.has(l)||(s.add(l),t.addEventListener(l,be))}}function de(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s)}function he(e,t,s,n){if(n)Array.isArray(s)?(e[`$$${t}`]=s[0],e[`$$${t}Data`]=s[1]):e[`$$${t}`]=s;else if(Array.isArray(s)){const r=s[0];e.addEventListener(t,s[0]=l=>r.call(e,s[1],l))}else e.addEventListener(t,s)}function ge(e,t,s){if(!t)return s?de(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof s=="string"&&(n.cssText=s=void 0),s||(s={}),t||(t={});let r,l;for(l in s)t[l]==null&&n.removeProperty(l),delete s[l];for(l in t)r=t[l],r!==s[l]&&(n.setProperty(l,r),s[l]=r);return s}function b(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return B(e,t,n,s);x(r=>B(e,t(),r,s),n)}function be(e){const t=`$$${e.type}`;let s=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==s&&Object.defineProperty(e,"target",{configurable:!0,value:s}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return s||document}});s;){const n=s[t];if(n&&!s.disabled){const r=s[`${t}Data`];if(r!==void 0?n.call(s,r,e):n.call(s,e),e.cancelBubble)return}s=s._$host||s.parentNode||s.host}}function B(e,t,s,n,r){for(;typeof s=="function";)s=s();if(t===s)return s;const l=typeof t,o=n!==void 0;if(e=o&&s[0]&&s[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),o){let i=s[0];i&&i.nodeType===3?i.data=t:i=document.createTextNode(t),s=$(e,s,n,i)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t;else if(t==null||l==="boolean")s=$(e,s,n);else{if(l==="function")return x(()=>{let i=t();for(;typeof i=="function";)i=i();s=B(e,i,s,n)}),()=>s;if(Array.isArray(t)){const i=[],f=s&&Array.isArray(s);if(M(i,t,s,r))return x(()=>s=B(e,i,s,n,!0)),()=>s;if(i.length===0){if(s=$(e,s,n),o)return s}else f?s.length===0?V(e,i,n):ae(e,s,i):(s&&$(e),V(e,i));s=i}else if(t.nodeType){if(Array.isArray(s)){if(o)return s=$(e,s,n,t);$(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}else console.warn("Unrecognized value. Skipped inserting",t)}return s}function M(e,t,s,n){let r=!1;for(let l=0,o=t.length;l<o;l++){let i=t[l],f=s&&s[l],a;if(!(i==null||i===!0||i===!1))if((a=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=M(e,i,f)||r;else if(a==="function")if(n){for(;typeof i=="function";)i=i();r=M(e,Array.isArray(i)?i:[i],Array.isArray(f)?f:[f])||r}else e.push(i),r=!0;else{const u=String(i);f&&f.nodeType===3&&f.data===u?e.push(f):e.push(document.createTextNode(u))}}return r}function V(e,t,s=null){for(let n=0,r=t.length;n<r;n++)e.insertBefore(t[n],s)}function $(e,t,s,n){if(s===void 0)return e.textContent="";const r=n||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(r!==i){const f=i.parentNode===e;!l&&!o?f?e.replaceChild(r,i):e.insertBefore(r,s):f&&i.remove()}else l=!0}}else e.insertBefore(r,s);return[r]}const K=3,O=5,Pe=3,ne=5,me=A("<div>"),[v,we]=g(5),[E,j]=g(0,{equals:!1}),[C,R]=g(ne,{equals:!1}),[xe,Ae]=g(0),[$e,ve]=g(0);function Se(e){return S(()=>{Q(xe(),e.day,1)&&(h(E)<Pe?j(h(E)+1):j(3))}),S(()=>{Q($e(),e.day,1)&&(h(C)>0?R(h(C)-1):R(0))}),S(()=>{(C()==0||E()==3)&&h(v)>0&&we(h(v)-1)}),(()=>{const t=me();return t.style.setProperty("width","80px"),t.style.setProperty("height","80px"),t.style.setProperty("position","absolute"),t.style.setProperty("bottom","120px"),t.style.setProperty("left","260px"),x(s=>{const n=Ee(v()),r=Ce(v());return n!==s._v$&&((s._v$=n)!=null?t.style.setProperty("background",n):t.style.removeProperty("background")),r!==s._v$2&&((s._v$2=r)!=null?t.style.setProperty("animation",r):t.style.removeProperty("animation")),s},{_v$:void 0,_v$2:void 0}),t})()}function Q(e,t,s){return!(t-e<=s)}function Ee(e){if(e>=O-2)return"lightgreen";if(e>=O-4)return"orange";if(e==0)return"black"}function Ce(e){if(e>=O-2)return"2s jumping infinite";if(e>=O-4)return"2s wiggling infinite";e!=0}const _e=A("<div>"),Le=A("<div><h4> <!> ");function U(e){const[t,s]=g([]);return S(()=>{let n=[];for(let r=0;r<e.value;r++)n.push((()=>{const l=_e();return l.style.setProperty("width","16px"),l.style.setProperty("height","16px"),l.style.setProperty("display","inline-block"),l.style.setProperty("margin","0 4px"),x(()=>e.color!=null?l.style.setProperty("background",e.color):l.style.removeProperty("background")),l})());s(n)}),(()=>{const n=Le(),r=n.firstChild,l=r.firstChild,o=l.nextSibling;return o.nextSibling,r.style.setProperty("margin","0"),r.style.setProperty("width","90px"),b(r,()=>e.label,o),b(n,t,null),x(i=>ge(n,{position:"absolute",left:"24px",display:"flex",justifyContent:"center",alignItems:"center",...e.style},i)),n})()}const Te=A("<div><div>");function Ne(e){return(()=>{const t=Te(),s=t.firstChild;return t.style.setProperty("background","lightcyan"),t.style.setProperty("width","600px"),t.style.setProperty("height","600px"),t.style.setProperty("border","2px solid black"),t.style.setProperty("border-radius","64px"),t.style.setProperty("margin","120px auto 0 auto"),t.style.setProperty("position","relative"),t.style.setProperty("overflow","hidden"),s.style.setProperty("width","100%"),s.style.setProperty("height","120px"),s.style.setProperty("background","green"),s.style.setProperty("position","absolute"),s.style.setProperty("bottom","0"),b(t,()=>e.children,null),t})()}const Be=A("<button>");function W(e){return(()=>{const t=Be();return he(t,"click",e.onClick,!0),t.style.setProperty("width","200px"),t.style.setProperty("height","100px"),t.style.setProperty("margin","auto"),t.style.setProperty("border-radius","50px"),t.style.setProperty("font-size","32px"),t.style.setProperty("font-family","Lato"),b(t,()=>e.children),x(()=>e.color!=null?t.style.setProperty("background",e.color):t.style.removeProperty("background")),t})()}pe(["click"]);const Oe=A("<h2>Day: "),ke=A("<div><div>Blocky Tamagotchi</div><div>");function Fe(){const[e,t]=g(1),[s,n]=g(0),[r,l]=g(!1),[o,i]=g(!1);return S(()=>{let f=setInterval(()=>{s()==K&&n(0),n(a=>a+1),console.log("time",s()),v()==0&&clearInterval(f)},1e3)}),S(()=>{s()==K&&(t(f=>f+1),l(!1),i(!1))}),(()=>{const f=ke(),a=f.firstChild,u=a.nextSibling;return a.style.setProperty("font-family","Lato"),a.style.setProperty("font-size","40px"),a.style.setProperty("font-weight","bold"),a.style.setProperty("width","fit-content"),a.style.setProperty("margin","60px auto"),b(f,m(Ne,{get children(){return[m(U,{label:"Health",get value(){return v()},color:"red",style:{top:"60px"}}),m(U,{label:"Hunger",get value(){return E()},color:"rosybrown",style:{top:"100px"}}),m(U,{label:"Affection",get value(){return C()},color:"lightpink",style:{top:"140px"}}),(()=>{const p=Oe();return p.firstChild,p.style.setProperty("width","fit-content"),p.style.setProperty("margin","auto"),p.style.setProperty("font-family","Lato"),b(p,e,null),p})(),m(Se,{get day(){return e()},get feed(){return r()},get pet(){return o()}})]}}),u),u.style.setProperty("margin","40px auto"),u.style.setProperty("width","600px"),u.style.setProperty("display","grid"),u.style.setProperty("grid-template-columns","auto auto"),b(u,m(W,{color:"rosybrown",onClick:()=>{r()!=!0&&E()>0&&j(E()-1),l(!0),Ae(e())},children:"Feed"}),null),b(u,m(W,{color:"lightpink",onClick:()=>{o()!=!0&&C()<ne&&R(C()+1),i(!0),ve(e())},children:"Pet"}),null),f})()}const De=document.getElementById("root");ye(()=>m(Fe,{}),De);
